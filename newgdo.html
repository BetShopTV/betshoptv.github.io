<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Preview Central de Apostas — BSTV</title>
<style>
:root {
  --vermelho: #ff0000;
  --bege: #bebab0;
  --preto: #2b2424;
  --branco: #ffffff;
  --footer-h: 60px;
  --thumb-h: 110px;
}
body {
  margin: 0; background: var(--bege); font-family: "Roboto Condensed", sans-serif;
  display: flex; flex-direction: column; min-height: 100vh;
}
main { flex: 1; padding: 20px; text-align: center; }
.central-bar {
  position: fixed; bottom: 0; left: 0; width: 100%; height: var(--footer-h);
  background: var(--vermelho);
  display: flex; justify-content: center; align-items: center; gap: 4vw;
  z-index: 1000; transition: bottom .3s ease;
}
.central-bar img.icon {
  height: 32px; cursor: pointer; filter: grayscale(1) brightness(0.7);
  transition: filter .3s ease;
}
.central-bar img.icon.active { filter: none; }
.central-panel {
  position: fixed; left: 0; bottom: -240px; width: 100%;
  background: var(--bege); transition: bottom .3s ease;
  z-index: 999; display: flex; flex-direction: column; align-items: center;
}
.central-panel.open { bottom: var(--footer-h); }
.thumbs-wrap {
  background: var(--branco); width: 100%;
  overflow-x: auto; white-space: nowrap; display: flex; gap: 10px; padding: 10px;
}
.thumbs-wrap::-webkit-scrollbar { height: 6px; }
.thumbs-wrap::-webkit-scrollbar-thumb { background: var(--vermelho); }
.thumbs-wrap::-webkit-scrollbar-track { background: var(--bege); }
.thumb {
  position: relative; flex: 0 0 auto;
  height: var(--thumb-h); aspect-ratio: 1/1;
  border: 1px solid var(--preto);
}
.thumb img {
  width: 100%; height: 100%; object-fit: cover;
}
.thumb button.x {
  position: absolute; top: 4px; right: 4px;
  background: rgba(0,0,0,0.7); color: var(--branco);
  border: none; font-size: 14px; line-height: 1; cursor: pointer;
  width: 20px; height: 20px;
}
.thumb-progress {
  width: 100%; height: 3px; background: var(--bege);
}
.thumb-progress span {
  display: block; height: 3px; background: var(--vermelho); width: 0%;
}
.finalizar {
  margin: 10px; padding: 10px 18px; font-weight: bold;
  background: var(--preto); color: var(--branco); border: none;
  cursor: pointer;
}
.hidden { display: none; }
</style>
</head>
<body>
<main>
  <h1>Preview Central de Apostas</h1>
  <p>Use os ícones abaixo para abrir/fechar a aba e ver a rolagem horizontal.</p>
</main>

<div id="centralBar" class="central-bar">
  <img id="btnPecas" src="https://betshoptv.com/elementos/ticon-SHOP-c.avif" alt="Peças" class="icon"/>
  <img id="btnRifas" src="https://betshoptv.com/elementos/ticon-RIFA-c.avif" alt="Rifas" class="icon"/>
  <img id="btnFavs" src="https://betshoptv.com/elementos/ticon-FAV-ON-c.avif" alt="Favoritos" class="icon"/>
</div>

<div id="centralPanel" class="central-panel">
  <div class="thumbs-wrap" id="thumbsContainer"></div>
  <div class="thumb-progress"><span id="thumbBar"></span></div>
  <button id="finalizarBtn" class="finalizar hidden">FINALIZAR APOSTA</button>
</div>

<script>
const icons = {
  pecas: document.getElementById('btnPecas'),
  rifas: document.getElementById('btnRifas'),
  favs: document.getElementById('btnFavs')
};
const panel = document.getElementById('centralPanel');
const bar = document.getElementById('centralBar');
const finalizarBtn = document.getElementById('finalizarBtn');
const thumbsContainer = document.getElementById('thumbsContainer');
const thumbBar = document.getElementById('thumbBar');

let activeTab = null;
let items = {
  pecas: [
    {id:1,img:'https://picsum.photos/id/100/200/200'},
    {id:2,img:'https://picsum.photos/id/200/200/200'},
    {id:3,img:'https://picsum.photos/id/300/200/200'}
  ],
  rifas: [
    {id:4,img:'https://picsum.photos/id/400/200/200'},
    {id:5,img:'https://picsum.photos/id/500/200/200'}
  ],
  favs: [
    {id:6,img:'https://picsum.photos/id/600/200/200'}
  ]
};

// abrir/fechar painel
Object.entries(icons).forEach(([tipo, el])=>{
  el.addEventListener('click',()=>{
    if(activeTab===tipo){ closePanel(); }
    else{ openPanel(tipo); }
  });
});

function openPanel(tipo){
  activeTab=tipo;
  panel.classList.add('open');
  Object.entries(icons).forEach(([t,el])=>{
    el.classList.toggle('active',t===tipo);
    el.src=`https://betshoptv.com/elementos/ticon-${t.toUpperCase()}-${t===tipo?'b':'c'}.avif`;
  });
  renderThumbs();
}
function closePanel(){
  panel.classList.remove('open');
  activeTab=null;
  Object.entries(icons).forEach(([t,el])=>{
    el.classList.remove('active');
    el.src=`https://betshoptv.com/elementos/ticon-${t.toUpperCase()}-c.avif`;
  });
}
// fechar clicando fora / ESC
document.addEventListener('click',e=>{
  if(!bar.contains(e.target)&&!panel.contains(e.target))closePanel();
});
document.addEventListener('keydown',e=>{
  if(e.key==="Escape")closePanel();
});

function renderThumbs(){
  thumbsContainer.innerHTML='';
  const lista = items[activeTab]||[];
  lista.forEach(obj=>{
    const div=document.createElement('div');
    div.className='thumb';
    div.innerHTML=`<img src="${obj.img}"><button class="x">&times;</button>`;
    div.querySelector('.x').onclick=()=>removeItem(obj.id);
    thumbsContainer.appendChild(div);
  });
  finalizarBtn.classList.toggle('hidden',lista.length===0);
}
function removeItem(id){
  items[activeTab]=items[activeTab].filter(x=>x.id!==id);
  renderThumbs();
}
// barra de progresso da rolagem
thumbsContainer.addEventListener('scroll',()=>{
  const ratio = thumbsContainer.scrollLeft/(thumbsContainer.scrollWidth-thumbsContainer.clientWidth);
  thumbBar.style.width=`${ratio*100}%`;
});
</script>
</body>
</html>
