<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>BSTV — Central de Apostas</title>
<style>
:root{
  --vermelho:#ff0000;
  --bege:#bebab0;
  --preto:#2b2424;
  --branco:#ffffff;
  --footer-h:60px;
  --thumb-h:110px;
  font-family:'Roboto Condensed',sans-serif;
}
body{
  margin:0;
  background:var(--bege);
  color:var(--preto);
  -webkit-font-smoothing:antialiased;
}
/* === GALERIA === */
.galeria{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(280px,1fr));
  gap:16px;
  padding:20px;
}
.item{
  position:relative;
  cursor:pointer;
}
.item img{
  width:100%;
  height:auto;
  display:block;
  object-fit:cover;
}
.heart{
  position:absolute;
  top:8px; right:8px;
  font-size:22px;
  background:transparent;
  border:none;
  cursor:pointer;
  color:var(--bege);
}
.heart.active{ color:var(--vermelho); }
/* === CENTRAL DE APOSTAS === */
.central-bar{
  position:fixed;
  bottom:0;
  left:0;
  width:100%;
  background:var(--vermelho);
  height:var(--footer-h);
  display:flex;
  justify-content:center;
  align-items:center;
  gap:3vw;
  z-index:1001;
}
.central-bar img.icon{
  height:32px;
  cursor:pointer;
  filter:grayscale(1) brightness(.7);
  transition:filter .3s ease;
}
.central-bar img.icon.active{
  filter:none;
}
/* === PAINEL === */
.central-panel{
  position:fixed;
  left:0;
  bottom:-220px;
  width:100%;
  background:var(--branco);
  z-index:1000;
  transition:bottom .3s ease;
  display:flex;
  flex-direction:column;
  align-items:center;
  border-top:4px solid var(--vermelho);
}
.central-panel.open{
  bottom:var(--footer-h);
}
.thumbs{
  display:flex;
  gap:10px;
  overflow-x:auto;
  padding:10px;
  width:100%;
  background:var(--branco);
}
.thumbs::-webkit-scrollbar{
  height:6px;
}
.thumbs::-webkit-scrollbar-thumb{
  background:var(--vermelho);
}
.thumbs::-webkit-scrollbar-track{
  background:var(--bege);
}
.thumb{
  position:relative;
  flex:0 0 auto;
  height:var(--thumb-h);
  aspect-ratio:1/1;
  border:1px solid var(--preto);
}
.thumb img{
  width:100%;
  height:100%;
  object-fit:cover;
}
.thumb button.x{
  position:absolute;
  top:4px;
  right:4px;
  background:rgba(0,0,0,.7);
  color:var(--branco);
  border:none;
  font-size:14px;
  width:20px;
  height:20px;
  cursor:pointer;
}
.finalizar{
  margin:8px;
  padding:10px 18px;
  background:var(--preto);
  color:var(--branco);
  font-weight:bold;
  border:none;
  cursor:pointer;
}
.hidden{display:none;}
</style>
</head>
<body>
<!-- === GALERIA === -->
<div class="galeria" id="galeria"></div>

<!-- === BARRA === -->
<div class="central-bar" id="centralBar">
  <img id="btnPecas" src="https://betshoptv.com/elementos/ticon-SHOP-c.avif" alt="Peças" class="icon"/>
  <img id="btnRifas" src="https://betshoptv.com/elementos/ticon-RIFA-c.avif" alt="Rifas" class="icon"/>
  <img id="btnFavs" src="https://betshoptv.com/elementos/ticon-FAV-ON-c.avif" alt="Favoritos" class="icon"/>
</div>

<!-- === PAINEL === -->
<div class="central-panel" id="centralPanel">
  <div class="thumbs" id="thumbsContainer"></div>
  <button id="finalizarBtn" class="finalizar hidden">FINALIZAR APOSTA</button>
</div>

<script>
// === Mock de dados ===
const pecas = [
  {id:'0409', img:'https://picsum.photos/id/909/600/800'},
  {id:'0408', img:'https://picsum.photos/id/908/600/800'},
  {id:'0407', img:'https://picsum.photos/id/907/600/800'},
  {id:'0406', img:'https://picsum.photos/id/906/600/800'},
  {id:'0405', img:'https://picsum.photos/id/905/600/800'},
  {id:'0404', img:'https://picsum.photos/id/904/600/800'}
];
let selectedPecas=[], selectedFavs=[], selectedRifas=[];
let activeTab=null;
const galeria=document.getElementById('galeria');
const panel=document.getElementById('centralPanel');
const thumbsContainer=document.getElementById('thumbsContainer');
const finalizarBtn=document.getElementById('finalizarBtn');
const icons={
  pecas:document.getElementById('btnPecas'),
  rifas:document.getElementById('btnRifas'),
  favs:document.getElementById('btnFavs')
};
// === Renderiza galeria (ordem por linha, maior -> menor) ===
function renderGaleria(){
  galeria.innerHTML='';
  pecas.sort((a,b)=>b.id.localeCompare(a.id));
  pecas.forEach(p=>{
    const div=document.createElement('div');
    div.className='item';
    div.innerHTML=`<img src="${p.img}" alt="">
      <button class="heart ${selectedFavs.includes(p.id)?'active':''}">♥</button>`;
    div.onclick=()=>togglePeca(p.id);
    const heart=div.querySelector('.heart');
    heart.onclick=(e)=>{e.stopPropagation();toggleFav(p.id,heart);};
    galeria.appendChild(div);
  });
}
// === Toggle peças / favs ===
function togglePeca(id){
  if(selectedPecas.includes(id)) selectedPecas=selectedPecas.filter(x=>x!==id);
  else selectedPecas.push(id);
  renderGaleria();
  if(activeTab==='pecas') renderThumbs();
}
function toggleFav(id,btn){
  if(selectedFavs.includes(id)) selectedFavs=selectedFavs.filter(x=>x!==id);
  else selectedFavs.push(id);
  btn.classList.toggle('active',selectedFavs.includes(id));
  if(activeTab==='favs') renderThumbs();
}
// === Abas ===
Object.entries(icons).forEach(([tipo,el])=>{
  el.addEventListener('click',()=>{
    if(activeTab===tipo) closePanel();
    else openPanel(tipo);
  });
});
function openPanel(tipo){
  activeTab=tipo;
  panel.classList.add('open');
  Object.entries(icons).forEach(([t,el])=>{
    el.classList.toggle('active',t===tipo);
    el.src=`https://betshoptv.com/elementos/ticon-${t.toUpperCase()}-${t===tipo?'b':'c'}.avif`;
  });
  renderThumbs();
}
function closePanel(){
  panel.classList.remove('open');
  activeTab=null;
  Object.entries(icons).forEach(([t,el])=>{
    el.classList.remove('active');
    el.src=`https://betshoptv.com/elementos/ticon-${t.toUpperCase()}-c.avif`;
  });
}
// === Fechar fora ou ESC ===
document.addEventListener('click',e=>{
  if(!panel.contains(e.target)&&!document.getElementById('centralBar').contains(e.target)) closePanel();
});
document.addEventListener('keydown',e=>{ if(e.key==='Escape') closePanel(); });
// === Thumbs ===
function renderThumbs(){
  thumbsContainer.innerHTML='';
  const lista=activeTab==='pecas'?selectedPecas:
               activeTab==='rifas'?selectedRifas:
               selectedFavs;
  lista.forEach(id=>{
    const p=pecas.find(x=>x.id===id)||{img:'https://picsum.photos/200'};
    const d=document.createElement('div');
    d.className='thumb';
    d.innerHTML=`<img src="${p.img}"><button class="x">&times;</button>`;
    d.querySelector('.x').onclick=()=>removeItem(id);
    thumbsContainer.appendChild(d);
  });
  finalizarBtn.classList.toggle('hidden',lista.length===0 || !panel.classList.contains('open'));
}
function removeItem(id){
  if(activeTab==='pecas') selectedPecas=selectedPecas.filter(x=>x!==id);
  if(activeTab==='rifas') selectedRifas=selectedRifas.filter(x=>x!==id);
  if(activeTab==='favs') selectedFavs=selectedFavs.filter(x=>x!==id);
  renderGaleria(); renderThumbs();
}
// === Inicializa ===
renderGaleria();
</script>
</body>
</html>
